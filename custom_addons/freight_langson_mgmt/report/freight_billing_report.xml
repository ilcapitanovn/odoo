<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_print_bill_lading_template_langson" inherit_id="freight_mgmt.report_print_bill_lading_template">
        <xpath expr="//div[hasclass('page')]" position="replace">
            <div class="page">
                <t t-foreach="docs" t-as="doc">
<!--                    <t t-esc="doc._fields" />-->

                <t t-if="doc.branch_id and doc.branch_id.code=='LS'">
                    <link rel="stylesheet" href="/freight_langson_mgmt/static/src/css/report_styles.css"/>

                    <t t-set="report_type" t-value="doc.print_report_type"/>

                    <t t-set="shipper_name" t-value="doc.shipper_name"/>
                    <t t-set="consignee_name" t-value="doc.consignee_name"/>
                    <t t-set="bl_number" t-value="doc.vessel_bol_number"/>
                    <t t-set="receipt_place" t-value="doc.receipt_place"/>
                    <t t-set="vehicle_number" t-value="doc.vehicle_number"/>
                    <t t-set="transport_route" t-value="doc.transport_route"/>
                    <t t-set="transport_type" t-value="'公路运输'"/>
<!--                    <t t-if="doc.transport_type != 'land'">-->
<!--                        <t t-set="transport_type" t-value="doc.transport_type"/>-->
<!--                    </t>-->
                    <t t-set="port_loading_text" t-value="doc.port_loading_text"/>
                    <t t-set="port_discharge_text" t-value="doc.port_discharge_text"/>
                    <t t-set="port_stopover_text" t-value="doc.port_stopover_text"/>
                    <t t-set="container_number" t-value="doc.container_number"/>

                    <t t-set="issued_date_formatted" t-value="''"/>
                    <t t-if="doc.issued_date">
                        <t t-set="issued_date_formatted" t-value="context_timestamp(doc.issued_date).strftime('%Y.%m.%d')"/>
                    </t>
                    <t t-set="departure_date_formatted" t-value="''"/>
                    <t t-if="doc.etd_revised">
                        <t t-set="departure_date_formatted" t-value="context_timestamp(doc.etd_revised).strftime('%Y.%m.%d')"/>
                    </t>
                    <t t-set="arrival_date_from_formatted" t-value="''"/>
                    <t t-set="arrival_date_formatted" t-value="''"/>
                    <t t-if="doc.eta">
                        <t t-set="d_delta" t-value="datetime.timedelta(days=7)"/>
                        <t t-set="arrival_date_from_formatted" t-value="context_timestamp(doc.eta).strftime('%Y.%m.%d')"/>
                        <t t-set="arrival_date_to_formatted" t-value="context_timestamp(doc.eta + d_delta).strftime('%Y.%m.%d')"/>
                        <t t-set="arrival_date_formatted" t-value="arrival_date_from_formatted + ' - ' + arrival_date_to_formatted"/>
                    </t>

                    <t t-if="report_type == 'rp1'">
                    <div id="bill-lading-langson-rp1" style="padding: 0 5px;">
                    <center>
                        <div class="title">提运单</div>
                        <div class="title-larger">BILL OF LADING</div>
                    </center>
                    <table class="table table-bordered no-spacing" id="table-01">
                        <tr>
                            <td colspan="2">承运人(SHIPPER)： <span t-esc="shipper_name" class="content-right light-bold" /></td>
                            <td>提单号(B/L NO):</td>
                        </tr>
                        <tr>
                            <td colspan="2">收货人(CONSIGNEE)：<span t-esc="consignee_name" class="content-right light-bold"/></td>
                            <td><span t-esc="bl_number"/></td>
                        </tr>
                        <tr>
                            <td class="content-center">收货地（PLACE OF RECEIPT）</td>
                            <td class="content-center">车牌号（CAR NUMBER ）</td>
                            <td class="content-center">运输方式（MODE OF TRANSPORT）</td>
                        </tr>
                        <tr>
                            <td class="content-center"><span t-esc="receipt_place"/></td>
                            <td class="content-center"><span t-esc="vehicle_number" class="light-bold"/></td>
                            <td class="content-center"><span t-esc="transport_type"/></td>
                        </tr>
                        <tr>
                            <td class="content-center">起运地（PORT OF DEPARTURE）</td>
                            <td class="content-center">经停地（STOPOVER AIRPORT OR SEAPORT）</td>
                            <td class="content-center">目的地（PORT OF DESTINATION）</td>
                        </tr>
                        <tr>
                            <td class="content-center"><span t-esc="port_loading_text"/></td>
                            <td class="content-center"><span t-esc="port_stopover_text"/></td>
                            <td class="content-center"><span t-esc="port_discharge_text"/></td>
                        </tr>
                    </table>

                    <table class="table table-bordered no-spacing" id="table-02">
                        <tr>
                            <td width="20%">柜号：</td>
                            <td><span t-esc="container_number" class="light-bold"/></td>
                        </tr>
                        <tr>
                            <td>运输路线：</td>
                            <td><span t-esc="transport_route"/></td>
                        </tr>
                    </table>

                    <table class="table table-bordered no-spacing" id="table-03">
                        <tr>
                            <td colspan="5" class="content-center">商品信息</td>
                        </tr>
                        <tr>
                            <td class="content-center light-bold">唛头（MARKS)</td>
                            <td class="content-center light-bold">商品名称 （DESCRIPTION OF GOODS）</td>
                            <td class="content-center light-bold">件数（NUMBER OF PACKAGES）</td>
                            <td class="content-center light-bold">毛重（KG G.W.）</td>
                            <td class="content-center light-bold">净重（KG N.W.)</td>
                        </tr>
                        <t t-set="mark_seal_nos" t-value="''"/>
                        <t t-set="total_desc" t-value="''"/>
                        <t t-set="number_pkgs" t-value="0.0"/>
                        <t t-set="gross_weight" t-value="0.0"/>
                        <t t-set="net_weight" t-value="0.0"/>
                        <t t-set="total_pkgs" t-value="0.0"/>
                        <t t-set="total_gross_weight" t-value="0.0"/>
                        <t t-set="total_net_weight" t-value="0.0"/>
                        <t t-set="count_lines" t-value="0"/>
                        <t t-foreach="doc.billing_line" t-as="line">
                            <t t-set="count_lines" t-value="count_lines + 1"/>
                            <t t-if="line.seal_nos">
                                <t t-set="mark_seal_nos" t-value="mark_seal_nos + line.seal_nos + '&lt;br/&gt;'"/>
                            </t>
                            <t t-if="line.description">
                                <t t-set="total_desc" t-value="total_desc + line.description + '&lt;br/&gt; &lt;br/&gt;'"/>
                            </t>
                            <t t-if="line.packages_number > 0">
                                <t t-set="number_pkgs" t-value="line.packages_number"/>
                                <t t-set="total_pkgs" t-value="total_pkgs + number_pkgs"/>
                            </t>
                            <t t-if="line.gross_weight > 0">
                                <t t-set="gross_weight" t-value="line.gross_weight"/>
                                <t t-set="total_gross_weight" t-value="total_gross_weight + gross_weight"/>
                            </t>
                            <t t-if="line.net_weight > 0">
                                <t t-set="net_weight" t-value="line.net_weight"/>
                                <t t-set="total_net_weight" t-value="total_net_weight + net_weight"/>
                            </t>
                            <t t-if="count_lines == 1">
                                <tr>
                                    <t t-if="len(doc.billing_line) > 1">
                                        <td class="content-center" rowspan="2"><span t-raw="mark_seal_nos" class="light-bold"/></td>
                                        <td class="content-center" rowspan="2"><span t-raw="total_desc"/></td>
                                    </t>
                                    <t t-else="">
                                        <td class="content-center"><span t-raw="mark_seal_nos" class="light-bold"/></td>
                                        <td class="content-center"><span t-raw="total_desc"/></td>
                                    </t>
                                    <td class="content-center"><span t-raw="'{:,.0f}'.format(number_pkgs)"/></td>
                                    <td class="content-center"><span t-esc="'{:,.2f}'.format(gross_weight)"/></td>
                                    <td class="content-center"><span t-esc="'{:,.2f}'.format(net_weight)"/></td>
                                </tr>
                            </t>
                            <t t-if="count_lines > 1">
                                <tr>
                                    <td class="content-center"><span t-raw="'{:,.0f}'.format(number_pkgs)"/></td>
                                    <td class="content-center"><span t-esc="'{:,.2f}'.format(gross_weight)"/></td>
                                    <td class="content-center"><span t-esc="'{:,.2f}'.format(net_weight)"/></td>
                                </tr>
                            </t>
                        </t>
                        <tr>
                            <td colspan="2">合计：</td>
                            <td class="content-center"><span t-esc="'{:,.0f}'.format(total_pkgs)"/></td>
                            <td class="content-center"><span t-esc="'{:,.2f}'.format(total_gross_weight)"/></td>
                            <td class="content-center"><span t-esc="'{:,.2f}'.format(total_net_weight)"/></td>
                        </tr>
                    </table>

                    <table class="table table-bordered no-spacing" id="table-04">
                        <tr>
                            <td rowspan="6">运费费用 (Total freight)：运输费用已包含在货物成交价格里</td>
                            <td colspan="2">发货日期（THE DATE OF ISSUANCE）</td>
                        </tr>
                        <tr>
                            <td><span t-esc="issued_date_formatted"/></td>
<!--                            <td>越南嘉菜省 ( GIA LAI, VIET NAM)</td>-->
                            <td><span t-esc="port_loading_text"/></td>
                        </tr>
                        <tr>
                            <td colspan="2">起运日期（DEPARTURE DATE）</td>
                        </tr>
                        <tr>
                            <td><span t-esc="departure_date_formatted"/></td>
                            <td><span t-esc="port_loading_text"/></td>
                        </tr>
                        <tr>
                            <td colspan="2">到达日期（ARRIVAL DATE）</td>
                        </tr>
                        <tr>
                            <td><span t-esc="arrival_date_formatted"/></td>
<!--                            <td>凭祥友谊关通道</td>-->
                            <td><span t-esc="port_discharge_text"/></td>
                        </tr>
                        <tr>
                            <td colspan="3">其他备注事宜：按照《中华人民共和国海关总署与越南社会主义共和国农业与农村发展部关于越南鲜食榴莲输华植物检疫要求的议定书》（海关总署公告2022年第66号）相关要求，已按要求集装箱封识挂锁，且在抵达中国入境口岸运输期间，未打开集装箱或更换集装箱，其封识完好无损。</td>
                        </tr>
                    </table>

                    <footer>
                        <div class="footer-left">收货人（盖章）Consignee Signature</div>
                        <div class="footer-right">承运人（盖章）Shipper Signature</div>
                    </footer>
                    </div>
                    </t> <!-- End Print Report Of rp1 -->

                    <t t-if="report_type == 'rp2'">
                    <div id="bill-lading-langson-rp2" style="padding: 0 5px;">
                    <center>
                        <div class="title">国际承运协议</div>
                    </center>
                    <table class="table table-bordered no-spacing" id="table-01">
                        <tr>
                            <td width="20%">承运方：</td>
                            <td width="50%"><span t-esc="shipper_name" class="light-bold" /></td>
                            <td class="content-center">协议编号</td>
                        </tr>
                        <tr>
                            <td>收货方：</td>
                            <td><span t-esc="consignee_name" class="light-bold"/></td>
                            <td class="content-center light-bold"><span t-esc="bl_number"/></td>
                        </tr>
                    </table>

                    <table class="table table-bordered no-spacing" id="table-02">
                        <tr>
                            <td class="content-center">收货地（PLACE OF RECEIPT）</td>
                            <td class="content-center">集装箱号:（CONTAINER NO):</td>
                            <td class="content-center">运输方式（TYPE OF SHIPPING）</td>
                        </tr>
                        <tr>
                            <td class="content-center"><span t-esc="receipt_place"/></td>
                            <td class="content-center"><span t-esc="container_number"/></td>
                            <td class="content-center"><span t-esc="transport_type"/></td>
                        </tr>
                        <tr>
                            <td class="content-center">起运港（PORT OF LOADING）</td>
                            <td class="content-center">经停港（Stopover Airport Or Seaport）</td>
                            <td class="content-center">目的港（PORT OF DESTINATION）</td>
                        </tr>
                        <tr>
                            <td class="content-center"><span t-esc="port_loading_text"/></td>
                            <td class="content-center"><span t-esc="port_stopover_text"/></td>
                            <td class="content-center"><span t-esc="port_discharge_text"/></td>
                        </tr>
                    </table>

                    <table class="table table-bordered no-spacing" id="table-03">
                        <tr>
                            <td colspan="5" class="content-center">运输路线(Transportstion route)：越南平顺省-越南河内-越南谅山-中国凭祥友谊关</td>
                        </tr>
                        <tr>
                            <td colspan="5" class="content-center light-bold">商品信息</td>
                        </tr>
                        <tr>
                            <td class="content-center">唛头（MARKS)</td>
                            <td class="content-center">商品名称（Description of Goods）</td>
                            <td class="content-center">件数（Number of Packages)</td>
                            <td class="content-center">净重(N.W.)KGS</td>
                            <td class="content-center">毛重(G.W.)KGS</td>
                        </tr>
                        <t t-set="mark_seal_nos" t-value="''"/>
                        <t t-set="total_desc" t-value="''"/>
                        <t t-set="number_pkgs" t-value="0.0"/>
                        <t t-set="gross_weight" t-value="0.0"/>
                        <t t-set="net_weight" t-value="0.0"/>
                        <t t-set="total_pkgs" t-value="0.0"/>
                        <t t-set="total_gross_weight" t-value="0.0"/>
                        <t t-set="total_net_weight" t-value="0.0"/>
                        <t t-set="count_lines" t-value="0"/>
                        <t t-foreach="doc.billing_line" t-as="line">
                            <t t-set="count_lines" t-value="count_lines + 1"/>
                            <t t-if="line.seal_nos">
                                <t t-set="mark_seal_nos" t-value="mark_seal_nos + line.seal_nos + '&lt;br/&gt;'"/>
                            </t>
                            <t t-if="line.description">
                                <t t-set="total_desc" t-value="total_desc + line.description + '&lt;br/&gt; &lt;br/&gt;'"/>
                            </t>
                            <t t-if="line.packages_number > 0">
                                <t t-set="number_pkgs" t-value="line.packages_number"/>
                                <t t-set="total_pkgs" t-value="total_pkgs + number_pkgs"/>
                            </t>
                            <t t-if="line.gross_weight > 0">
                                <t t-set="gross_weight" t-value="line.gross_weight"/>
                                <t t-set="total_gross_weight" t-value="total_gross_weight + gross_weight"/>
                            </t>
                            <t t-if="line.net_weight > 0">
                                <t t-set="net_weight" t-value="line.net_weight"/>
                                <t t-set="total_net_weight" t-value="total_net_weight + net_weight"/>
                            </t>
                            <tr>
                                <td class="content-center"><span t-raw="mark_seal_nos"/></td>
                                <td class="content-center"><span t-raw="total_desc"/></td>
                                <td class="content-center"><span t-raw="'{:,.0f}'.format(number_pkgs)"/></td>
                                <td class="content-center"><span t-esc="'{:,.2f}'.format(net_weight)"/></td>
                                <td class="content-center"><span t-esc="'{:,.2f}'.format(gross_weight)"/></td>
                            </tr>
                        </t>
<!--                        <tr>-->
<!--                            <td colspan="2">合计：</td>-->
<!--                            <td class="content-center"><span t-esc="'{:,.0f}'.format(total_pkgs)"/></td>-->
<!--                            <td class="content-center"><span t-esc="'{:,.2f}'.format(total_gross_weight)"/></td>-->
<!--                            <td class="content-center"><span t-esc="'{:,.2f}'.format(total_net_weight)"/></td>-->
<!--                        </tr>-->
                    </table>

                    <table class="table table-bordered no-spacing" id="table-04">
                        <tr>
                            <td width="40%" class="content-center">发货日期 (THE DATE OF ISSUANCE)</td>
                            <td><span t-esc="issued_date_formatted"/></td>
                        </tr>
                        <tr>
                            <td class="content-center">预计到达日期（Arrival date）</td>
                            <td><span t-esc="arrival_date_from_formatted"/></td>
                        </tr>
                        <tr>
                            <td class="content-center">运输费用</td>
                            <td class="content-center">运输费用已包含在货物成交价格里面</td>
                        </tr>
                    </table>

                    <footer>
                        <div class="footer-left">收货方</div>
                        <div class="footer-right">承运方</div>
                    </footer>
                    </div>
                    </t> <!-- End Print Report Of rp2 -->
                </t>
                <t t-else="">
                    <link rel="stylesheet" href="/freight_mgmt/static/src/css/report_styles.css"/>
                    <div id="bill-lading-saigon" style="padding: 0 5px;">
                    <center>
                        <div class="title"><strong>BILL OF LADING</strong></div>
                        <div>(FOR PORT-TO-PORT OR COMBINED TRANSPORT)</div>
                    </center>
                    <table class="table table-bordered no-spacing" id="contact-table">
                        <tr>
                            <td class="no-spacing" width="50%">
                                <table class="table no-spacing">
                                    <tr>
                                        <td colspan="2" class="content">
                                            <div class="label">SHIPPER (Name and address)</div>
                                            <div class="value h-address">
<!--                                                    <p>VIET NAM SUPPLY CO.,LTD<br></br>48/10 TRAN DINH XU STREET, CO GIANG WARD,DISTRICT 1, HOCHIMINH CITY, VIETNAM</p>-->
                                                <p><span t-field="doc.shipper_id"/><br/><span t-field="doc.shipper_address"/><br/><span t-field="doc.shipper_extra_info"/></p>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" class="content">
                                            <div class="label">CONSIGNEE (Non-Negotiable unless consigned "TO ORDER")</div>
                                            <!--<div class="value h-address"><p>TO THE ORDER OF SHINHAN BANK SEOUL</p></div>-->
                                            <div class="value h-address">
                                              <p><span t-field="doc.consignee_id"/><br/><span t-field="doc.consignee_address"/><br/><span t-field="doc.consignee_extra_info"/></p>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" class="content">
                                            <div class="label">NOTIFY PARTY (Name and address)</div>
                                            <!--<div class="value h-address"><p>SGC SOLUTIONS CO., LTD<br/>SONGAHM BLDG., 246, YANGJAE-DAERO, SEOCHO-GU, SEOUL 06792 KOREA</p></div>-->
                                            <div class="value h-address">
                                              <p><span t-field="doc.party_id"/><br/><span t-field="doc.party_address"/><br/><span t-field="doc.party_extra_info"/></p>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="content">
                                            <div class="label">Pre-carriage by</div>
                                            <div class="value h-bill-no"/>
                                        </td>
                                        <td class="content">
                                            <div class="label">Place of receipt</div>
                                            <div class="value h-bill-no"><p>HO CHI MINH PORT, VIETNAM</p></div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="content">
                                            <div class="label">Ocean Vessel</div>
                                            <!--<div class="value h-bill-no"><p>KMTC PUSAN 2112N</p></div>-->
                                            <div class="value h-bill-no"><p><span t-field="doc.vessel_id.name"/></p></div>
                                        </td>
                                        <td class="content">
                                            <div class="label">Port of loading</div>
                                            <!--<div class="value h-bill-no"><p>HO CHI MINH PORT, VIETNAM</p></div>-->
                                            <div class="value h-bill-no"><p><span t-field="doc.port_loading_text"/></p></div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="content">
                                            <div class="label">Port of discharge</div>
                                            <!--<div class="value h-bill-no"><p>KWANGYANG PORT, SOUTH KOREA</p></div>-->
                                            <div class="value h-bill-no"><p><span t-field="doc.port_discharge_text"/></p></div>
                                        </td>
                                        <td class="content">
                                            <div class="label">Place of delivery</div>
                                            <!--<div class="value h-bill-no"><p>KWANGYANG PORT, SOUTH KOREA</p></div>-->
                                            <div class="value h-bill-no"><p><span t-field="doc.delivery_place"/></p></div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                            <td class="no-spacing">
                                <table class="table no-spacing">
                                    <tr>
                                        <td class="content">
                                            <div class="label">BILL OF LADING NO.</div>
                                            <!--<div class="value bill-no h-bill-no"><p>VITOSGN2111019</p></div>-->
                                            <div class="value bill-no h-bill-no no-spacing"><p><span t-field="doc.name"/></p></div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="content">
                                            <div class="logo-container"><center><img class="logo-img" src="/freight_mgmt/static/img/bill_of_lading_logo.jpg"/></center></div>
                                            <div class="value freight-note h-address-extra">
                                                <p>RECEIVED by Carrier for shipment by ocean vessel between port of loading and port of discharge, and for arrangement and procurement of pre-carriage from place of receipt and on-carriage to place of delivery, where stated above, the goods as specified above is in apparent good order and condition unless otherwise stated.</p>
                                                <p>The goods to be delivered at the above mentioned port of discharge or place of delivery, whichever applicable, is subject always to the exceptions, limitations, conditions and liberties set out on the reverse side hereof, to which the Shipper and/or Consignee agree to accepting this Bill of lading.</p>
                                                <p>IN WITNESS WHEREOF three (3) original Bills of Lading have been signed, if not otherwise stated above, one of which being accomplished, the others shall be void.</p>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="content">
                                            <div class="label">ALSO NOTIFY PARTY (Name and address)</div>
                                            <div class="value h-extra-party"/>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="content">
                                            <div class="label">FOR DELIVERY, PLEASE CONTACT:</div>
                                            <!--<div class="value h-address"><p>PIK CORPORATION<br/>3F SEOHYUN BUILDING, #98 WORLD CUP STREET, MAPO-KU, SEOUL, KOREA<br/>TEL: 82-2-333-9616 FAX: 82-2-333-9691, 2-333-9617<br/>Ocean-import@shippingnews.co.kr</p></div>-->
                                            <div class="value h-address">
                                              <p><span t-field="doc.contact_id"/><br/><span t-field="doc.contact_address"/><br/><span t-field="doc.contact_extra_info"/></p>
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="content">
                                            <div class="label">ONWARD INLAND ROUTING - FINAL DESTINATION (For the merchant's reference only)</div>
                                            <div class="value h-bill-no"><p><span t-field="doc.final_destination"/></p></div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>

                    <div><center>PARTICULARS FURNISHED BY THE SHIPPER</center></div>

                    <table class="table table-lines-bordered no-spacing" id="bill-lines-table">
                        <tr>
                            <th class="bill-lines-bordered border-left-no" width="25%">
                                MARKS &amp; NOS.<br/>CONTAINER / SEAL NOS.
                            </th>
                            <th class="bill-lines-bordered" width="12%">NO. OF PKGS<br/> OR CONTAINERS</th>
                            <th class="bill-lines-bordered" width="35%">DESCRIPTION OF PACKAGES AND GOODS</th>
                            <th class="bill-lines-bordered" width="12%">GROSS WEIGHT</th>
                            <th class="bill-lines-bordered border-right-no" width="12%">MEASUREMENT</th>
                        </tr>
                        <t t-set="mark_seal_nos" t-value="''"/>
                        <t t-set="total_desc" t-value="''"/>
                        <t t-set="total_weight" t-value="0.0"/>
                        <t t-set="total_measure" t-value="0.0"/>
                        <t t-set="total_pkgs_dict" t-value="{}"/>
                        <t t-foreach="doc.billing_line" t-as="line">
                            <t t-if="line.container_no or line.seal_nos">
                                <t t-if="line.container_no">
                                    <t t-set="mark_seal_nos" t-value="mark_seal_nos + line.container_no"/>
                                </t>
                                <t t-set="mark_seal_nos" t-value="mark_seal_nos + ' / '"/>
                                <t t-if="line.seal_nos">
                                    <t t-set="mark_seal_nos" t-value="mark_seal_nos + line.seal_nos"/>
                                </t>
                                <t t-set="mark_seal_nos" t-value="mark_seal_nos + '&lt;br/&gt;'"/>
                            </t>
                            <t t-set="total_pkgs_dict" t-value="doc.update_total_pkgs_dict(total_pkgs_dict, line.product_uom.display_name, line.packages_number)"/>
                            <t t-if="line.description">
                                <t t-set="total_desc" t-value="total_desc + line.description + '&lt;br/&gt; &lt;br/&gt;'"/>
                            </t>
                            <t t-set="total_weight" t-value="total_weight + line.gross_weight"/>
                            <t t-set="total_measure" t-value="total_measure + line.measurement_cbm"/>
                        </t>
                        <t t-if="doc.shipping_mark">
                            <t t-set="mark_seal_nos" t-value="mark_seal_nos + '&lt;br/&gt; &lt;br/&gt;SHIPPING MARK:&lt;br/&gt;' + doc.shipping_mark"/>
                        </t>
                        <tr>
                            <td class="bill-lines-bordered border-left-no"><span t-raw="mark_seal_nos"/></td>
                            <td class="bill-lines-bordered"><span t-raw="doc.generate_no_of_pkgs(total_pkgs_dict)"/></td>
                            <td class="bill-lines-bordered"><span t-raw="total_desc"/></td>
                            <td class="bill-lines-bordered text-right">(KGS)<br/><span t-esc="'{:,.2f}'.format(total_weight)"/></td>
                            <td class="bill-lines-bordered text-right border-right-no">(CBM)<br/><span t-esc="'{:,.2f}'.format(total_measure)"/></td>
                        </tr>
                        <tr>
                            <td class="border-left-no border-right-no border-bottom-solid h-bill-no no-spacing" colspan="5">
                                <div class="total-in-word-label">Total no. of packages or container (in word)</div>
                                <!--<div class="total-in-word-value">SAY: THIRTY (30) CONTAINERS ONLY.</div>-->
                                <div class="total-in-word-value"><p><span t-field="doc.total_packages_word"/></p></div>
                            </td>
                        </tr>
                    </table>

                    <table class="table no-spacing" id="bottom-table">
                        <tr>
                            <td width="55%" class='border-left-no'>
                                <table width='100%'>
                                    <tr>
                                        <td width="40%" class="border-left-no border-right-dashed">
                                            <div class="div-label">FREIGHT RATE/TYPES OF CHARGE</div>
                                            <!--<div class="div-value"><p>"FREIGHT PREPAID" (CY/CY)</p></div>-->
                                            <div class="div-value"><p><span t-field="doc.freight_charge_rate"/></p></div>
                                        </td>
                                        <td width="25%" class="border-left-no border-right-dashed">
                                            <div class="div-label">RATED AS</div>
                                            <div class="div-value"><p><span t-field="doc.rated_as"/></p></div>
                                        </td>
                                        <td width="35%" class="border-left-no">
                                            <div class="div-label">PLACE OF PAYMENT</div>
                                            <!--<div class="div-value"><p>HOCHIMINH, VIETNAM</p></div>-->
                                            <div class="div-value"><p><span t-field="doc.payment_place"/></p></div>
                                        </td>
                                    </tr>
                                </table>
                                <table width='100%'>
                                    <tr>
                                        <td width="40%" class="border-left-no h-bill-no">
                                            <div>Type of movement - Transport mode</div>
                                            <div><span t-field="doc.movement_type"/></div>
                                        </td>
                                        <td width="35%" class="borderless border-right-solid">
                                            <div>Freight payable at</div>
                                            <div><span t-field="doc.payable_at"/></div>
                                        </td>
                                        <td class="borderless">
                                            <div>No. of original B/Ls</div>
                                            <div>1/3</div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                            <td class='border-right-no'>
                                <table width='100%'>
                                    <tr>
                                        <td class="border-right-no h-address">
                                            <div class="div-label">TYPE OF BILL-OF-LADING ISSUE</div>
                                            <div class="div-value-issue"><p><span t-field="doc.issue_type"/></p></div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td class="border-right-no h-address-extra">
                                            <div class="div-label">PLACE AND DATE OF ISSUE</div>
                                            <div class="div-value-sign"><p>VIET TOAN JSC<br/><br/>BY&amp;emsp;&amp;emsp;"AS AGENT FOR CARRIER"</p></div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                    </table>

                    <footer>
                        TERMS OF BILL OF LADING ARE CONTINUED ON THE BACK SIDE
                    </footer>
                </div>
                </t>
                </t>
            </div>
        </xpath>
    </template>
</odoo>